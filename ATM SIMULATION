import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

public class ATMSimulation extends JFrame {
    private JPasswordField pinField;
    private JButton loginBtn;
    private JPanel mainPanel;
    private double balance = 1000;

    public ATMSimulation() {
        setTitle("ATM Simulation");
        setSize(400, 300);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        mainPanel = new JPanel();
        mainPanel.setLayout(new FlowLayout());

        pinField = new JPasswordField(10);
        loginBtn = new JButton("Login");

        mainPanel.add(new JLabel("Enter PIN:"));
        mainPanel.add(pinField);
        mainPanel.add(loginBtn);

        add(mainPanel);

        loginBtn.addActionListener(e -> {
            String pin = new String(pinField.getPassword());
            if (pin.equals("1234")) {
                showMenu();
            } else {
                JOptionPane.showMessageDialog(this, "Invalid PIN");
            }
        });

        setVisible(true);
    }

    private void showMenu() {
        mainPanel.removeAll();
        JButton checkBtn = new JButton("Check Balance");
        JButton depositBtn = new JButton("Deposit");
        JButton withdrawBtn = new JButton("Withdraw");

        mainPanel.add(checkBtn);
        mainPanel.add(depositBtn);
        mainPanel.add(withdrawBtn);

        checkBtn.addActionListener(e -> JOptionPane.showMessageDialog(this, "Balance: $" + balance));
        depositBtn.addActionListener(e -> {
            String amountStr = JOptionPane.showInputDialog("Enter deposit amount:");
            balance += Double.parseDouble(amountStr);
        });
        withdrawBtn.addActionListener(e -> {
            String amountStr = JOptionPane.showInputDialog("Enter withdraw amount:");
            double amt = Double.parseDouble(amountStr);
            if (amt <= balance) balance -= amt;
            else JOptionPane.showMessageDialog(this, "Insufficient funds");
        });

        mainPanel.revalidate();
        mainPanel.repaint();
    }

    public static void main(String[] args) {
        new ATMSimulation();
    }
}
